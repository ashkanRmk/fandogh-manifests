kind: InternalService
name: mongodb
spec:
  image: library/mongo:latest
  image_pull_policy: IfNotPresent
  env:
    - name: MONGO_INITDB_ROOT_USERNAME
      value: root
    - name: MONGO_INITDB_ROOT_PASSWORD
      value: "A_COMPLEX_PASSWORD"
    - name: MONGO_INITDB_DATABASE
      value: main
  port_mapping:
    - port: 27017
      target_port: 27017
      
  resources:
    memory: 512Mi
  volume_mounts:
   - mount_path: /data/db
     sub_path: mongodb
     volume_name: mongodb-volume
